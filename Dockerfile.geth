FROM ubuntu:latest 

# Install dependencies
RUN DEBIAN_FRONTEND=noninteractive apt-get update && \
    apt-get install -y software-properties-common && \
    add-apt-repository -y ppa:ethereum/ethereum && \
    apt-get update && \
    apt-get install -y ethereum

# Create storage directory for Geth
VOLUME ["/root/.ethereum"]

# Expose necessary ports
EXPOSE 30303 30303/udp 8545 8546 8551

# Start Geth with light sync mode
CMD ["geth", "--syncmode=light", "--http", "--http.addr=0.0.0.0", "--http.port=8545", "--http.api=eth,net,web3,admin", "--ws", "--ws.addr=0.0.0.0", "--ws.port=8546", "--bootnodes=enode://06051c226f5e062e835a0b9b3bb9e004b132d3b55bdb59ffb0651b10adf354da5bfae84ac3e9fa6f93e1d7a36a2a382daec377fb5015f0242085c96ae1b2b703@3.120.34.131:30303,enode://8281952b3bb09949f832b5f32e62cba36eb6e84d38340a1672b3d0dbe3b85791cc829cb451f897a8b789f491a705a02211d5de24e89646a2f845ac64cfcdae90@34.255.23.113:30303,enode://176b94135ebdf34d60a1a07888c35b620bbfc2fa320c8fc3d74f5ebf58e22901ff9f1e1b303cf3c6b3b36862c6703467cf2dc5c4cf5d9ccf11c68e8f2eeb7344@52.18.72.1:30303,enode://4233eb20dc00fa6bb3cbad15bc5fd88f77c2c48164983341ddc8d0c54d2a1b682b9d405bdf3cb2f160c84c2fa8a5c7c2765833ad7e7b56a5e2046b146bd2c3a7@3.248.87.14:30303"]